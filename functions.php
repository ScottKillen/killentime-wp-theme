<?php
/**
 * Scott Killen functions and definitions
 *
 * @link https://developer.wordpress.org/themes/basics/theme-functions/
 *
 * @package Scott_Killen
 */

if (!defined('_S_VERSION')) {
	// Replace the version number of the theme on each release.
	define('_S_VERSION', '1.0.0');
}

/**
 * Sets up theme defaults and registers support for various WordPress features.
 *
 * Note that this function is hooked into the after_setup_theme hook, which
 * runs before the init hook. The init hook is too late for some features, such
 * as indicating support for post thumbnails.
 */
function scottkillen_setup()
{
	/*
	 * Make theme available for translation.
	 * Translations can be filed in the /languages/ directory.
	 * If you're building a theme based on Scott Killen, use a find and replace
	 * to change 'scottkillen' to the name of your theme in all the template files.
	 */
	load_theme_textdomain('scottkillen', get_template_directory() . '/languages');

	// Add default posts and comments RSS feed links to head.
	add_theme_support('automatic-feed-links');

	/*
	 * Let WordPress manage the document title.
	 * By adding theme support, we declare that this theme does not use a
	 * hard-coded <title> tag in the document head, and expect WordPress to
	 * provide it for us.
	 */
	add_theme_support('title-tag');

	/*
	 * Enable support for Post Thumbnails on posts and pages.
	 *
	 * @link https://developer.wordpress.org/themes/functionality/featured-images-post-thumbnails/
	 */
	add_theme_support('post-thumbnails');

	// This theme uses wp_nav_menu() in one location.
	register_nav_menus(
		array(
			'menu-1' => esc_html__('Primary', 'scottkillen'),
		)
	);

	/*
	 * Switch default core markup for search form, comment form, and comments
	 * to output valid HTML5.
	 */
	add_theme_support(
		'html5',
		array(
			'search-form',
			'comment-form',
			'comment-list',
			'gallery',
			'caption',
			'style',
			'script',
		)
	);

	// Set up the WordPress core custom background feature.
	add_theme_support(
		'custom-background',
		apply_filters(
			'scottkillen_custom_background_args',
			array(
				'default-color' => 'ffffff',
				'default-image' => '',
			)
		)
	);

	// Add theme support for selective refresh for widgets.
	add_theme_support('customize-selective-refresh-widgets');
}
add_action('after_setup_theme', 'scottkillen_setup');

/**
 * Set the content width in pixels, based on the theme's design and stylesheet.
 *
 * Priority 0 to make it available to lower priority callbacks.
 *
 * @global int $content_width
 */
function scottkillen_content_width()
{
	$GLOBALS['content_width'] = apply_filters('scottkillen_content_width', 640);
}
add_action('after_setup_theme', 'scottkillen_content_width', 0);

/**
 * Register widget area.
 *
 * @link https://developer.wordpress.org/themes/functionality/sidebars/#registering-a-sidebar
 */
function scottkillen_widgets_init()
{
	register_sidebar(
		array(
			'name' => esc_html__('Sidebar', 'scottkillen'),
			'id' => 'sidebar-1',
			'description' => esc_html__('Add widgets here.', 'scottkillen'),
			'before_widget' => '<section id="%1$s" class="widget %2$s">',
			'after_widget' => '</section>',
			'before_title' => '<h2 class="widget-title">',
			'after_title' => '</h2>',
		)
	);
}
add_action('widgets_init', 'scottkillen_widgets_init');

/**
 * Enqueue scripts and styles.
 */
function scottkillen_scripts()
{
	wp_enqueue_style('bootstrap', get_template_directory_uri() . '/css/bootstrap.min.css', array(), '5.3.1');

	/* wp_enqueue_style('theme-style', get_stylesheet_uri(), array(), _S_VERSION);
	 * wp_style_add_data('theme-style', 'rtl', 'replace');
   *
	 * wp_enqueue_style('darkmode-button-style', get_theme_file_uri('darkmode-button.css'));
	 * wp_enqueue_style('scottkillen-style', get_theme_file_uri('scottkillen.css'));
	 */

	wp_enqueue_script('bootstrap-bundle', get_template_directory_uri() . '/js/bootstrap.bundle.js', array(), '5.0.2', false);
	wp_enqueue_script('color-modes', get_template_directory_uri() . '/js/color-modes.js', array(), '1.0.0', true);
	/*
	 * wp_enqueue_script('dark-mode', get_template_directory_uri() . '/js/dark-mode.js', array(), _S_VERSION, true);
	 *
	 * if (is_singular() && comments_open() && get_option('thread_comments')) {
	 *  wp_enqueue_script('comment-reply');
	 * }
	 */
}
add_action('wp_enqueue_scripts', 'scottkillen_scripts');

/**
 * Implement the Custom Header feature.
 */
require get_template_directory() . '/inc/custom-header.php';

/**
 * Custom template tags for this theme.
 */
require get_template_directory() . '/inc/template-tags.php';

/**
 * Functions which enhance the theme by hooking into WordPress.
 */
require get_template_directory() . '/inc/template-functions.php';

/**
 * Customizer additions.
 */
require get_template_directory() . '/inc/customizer.php';

/**
 * Load Jetpack compatibility file.
 */
if (defined('JETPACK__VERSION')) {
	require get_template_directory() . '/inc/jetpack.php';
}

/**
 * Custom functions
 */

function emit_logo()
{
	// SVG logo
	$svglogo = '<svg class="logo" clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" version="1.1" viewBox="0 0 180 60" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
									 <title>Scott Killen</title>
	                 <defs><style>.sk-secondary{opacity:0.7;}</style></defs>
									 <path class="sk-primary" d="m53.951 52.292c0-0.156 0.055-0.309 0.166-0.459 0.11-0.15 0.237-0.29 0.38-0.42 0.144-0.13 0.284-0.241 0.42-0.332 0.137-0.091 0.231-0.156 0.284-0.195 0.065 0.599 0.293 1.051 0.683 1.357 0.391 0.306 0.879 0.502 1.465 0.586 0.586 0.085 1.243 0.075 1.973-0.029 0.729-0.104 1.458-0.267 2.187-0.488 0.729-0.222 1.432-0.485 2.11-0.791 0.677-0.306 1.256-0.622 1.738-0.948 0.482-0.325 0.84-0.641 1.074-0.947s0.273-0.57 0.117-0.791l-10.176-4.043c-0.13-0.039-0.289-0.107-0.478-0.205s-0.368-0.208-0.537-0.332-0.313-0.26-0.43-0.41-0.176-0.303-0.176-0.459c0-0.612 0.225-1.172 0.674-1.68s1.026-0.96 1.729-1.357 1.484-0.746 2.343-1.045c0.86-0.3 1.693-0.55 2.5-0.752 0.808-0.202 1.547-0.355 2.217-0.459 0.671-0.104 1.169-0.169 1.494-0.195 0.209-0.066 0.433-0.092 0.674-0.079s0.456 0.062 0.645 0.147 0.332 0.202 0.429 0.352c0.098 0.149 0.108 0.328 0.03 0.537-0.078 0.195-0.293 0.371-0.645 0.527-0.351 0.156-0.784 0.299-1.299 0.43-0.514 0.13-1.087 0.257-1.718 0.381-0.632 0.123-1.27 0.25-1.914 0.38-0.645 0.131-1.264 0.271-1.856 0.42-0.592 0.15-1.113 0.323-1.562 0.518-0.45 0.195-0.791 0.42-1.026 0.674-0.234 0.254-0.319 0.543-0.254 0.869 0.313 0.104 0.788 0.264 1.426 0.478 0.638 0.215 1.351 0.466 2.139 0.752 0.787 0.287 1.605 0.593 2.451 0.918 0.846 0.326 1.631 0.651 2.353 0.977 0.723 0.325 1.345 0.635 1.866 0.928 0.52 0.293 0.852 0.543 0.996 0.752 0.299 0.468 0.42 0.921 0.361 1.357s-0.247 0.856-0.566 1.26c-0.319 0.403-0.739 0.784-1.26 1.142s-1.094 0.69-1.719 0.996-1.276 0.58-1.953 0.821-1.325 0.446-1.943 0.615c-0.619 0.169-1.185 0.296-1.7 0.381-0.514 0.084-0.927 0.12-1.24 0.107-0.182 0.026-0.42 0.026-0.713 0s-0.605-0.078-0.937-0.156-0.668-0.182-1.006-0.313c-0.339-0.13-0.645-0.283-0.918-0.459-0.273-0.175-0.495-0.374-0.664-0.595-0.169-0.222-0.247-0.462-0.234-0.723z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m69.732 50.671c-0.065-0.677 0.094-1.416 0.478-2.217s0.905-1.575 1.563-2.324c0.657-0.749 1.413-1.419 2.265-2.012 0.853-0.592 1.719-1.022 2.598-1.289s1.725-0.316 2.539-0.146c0.814 0.169 1.52 0.638 2.119 1.406 0 0.169-0.042 0.319-0.127 0.449-0.084 0.13-0.188 0.254-0.312 0.371-0.124 0.118-0.257 0.222-0.401 0.313-0.143 0.091-0.273 0.182-0.39 0.273-0.222-0.468-0.515-0.794-0.879-0.976-0.365-0.183-0.768-0.257-1.211-0.225-0.443 0.033-0.911 0.156-1.406 0.371s-0.983 0.488-1.465 0.82c-0.482 0.333-0.938 0.704-1.367 1.114-0.43 0.41-0.804 0.833-1.123 1.269s-0.564 0.866-0.733 1.289c-0.169 0.424-0.234 0.804-0.195 1.143 0 0.573 0.111 1.035 0.332 1.387 0.221 0.351 0.511 0.625 0.869 0.82s0.768 0.325 1.231 0.391c0.462 0.065 0.934 0.097 1.416 0.097 0.989-0.026 1.878-0.146 2.666-0.361 0.787-0.215 1.468-0.443 2.041-0.684s1.048-0.452 1.425-0.634c0.378-0.183 0.651-0.254 0.821-0.215 0.104 0 0.211 6e-3 0.322 0.019s0.208 0.049 0.293 0.108c0.085 0.058 0.143 0.143 0.176 0.254 0.032 0.11 0.029 0.263-0.01 0.459-0.039 0.247-0.208 0.485-0.508 0.712-0.299 0.228-0.683 0.44-1.152 0.635-0.469 0.196-0.99 0.375-1.563 0.537-0.573 0.163-1.146 0.3-1.718 0.41-0.573 0.111-1.117 0.193-1.631 0.245-0.515 0.052-0.941 0.065-1.28 0.039-0.573 0-1.191-0.065-1.855-0.196-0.664-0.13-1.279-0.345-1.846-0.644-0.566-0.3-1.038-0.694-1.416-1.182-0.377-0.488-0.566-1.097-0.566-1.826z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m84.146 49.89c0-1.068 0.189-2.035 0.566-2.901 0.378-0.865 0.873-1.611 1.485-2.236s1.295-1.12 2.05-1.484c0.756-0.365 1.517-0.586 2.286-0.664 0.859-0.118 1.666-0.043 2.421 0.224 0.756 0.267 1.407 0.671 1.954 1.211 0.546 0.541 0.973 1.195 1.279 1.963s0.439 1.602 0.4 2.5c-0.117 1.068-0.397 1.982-0.84 2.744-0.442 0.762-1.005 1.387-1.689 1.875s-1.471 0.847-2.363 1.074c-0.892 0.228-1.846 0.342-2.862 0.342-1.536 0-2.701-0.358-3.496-1.074-0.794-0.716-1.191-1.908-1.191-3.574zm1.68 0.586c0.052 0.781 0.309 1.37 0.771 1.767s1.029 0.635 1.699 0.713c0.671 0.078 1.393 0.016 2.168-0.185 0.775-0.202 1.494-0.515 2.158-0.938s1.224-0.937 1.68-1.543c0.456-0.605 0.697-1.273 0.723-2.002 0.013-0.338-0.033-0.732-0.137-1.181-0.104-0.45-0.296-0.883-0.576-1.299-0.28-0.417-0.664-0.788-1.152-1.114-0.489-0.325-1.111-0.533-1.866-0.625-0.273 0.013-0.605 0.062-0.996 0.147-0.39 0.085-0.797 0.225-1.221 0.42-0.423 0.195-0.839 0.456-1.25 0.781-0.41 0.326-0.771 0.723-1.083 1.192-0.313 0.468-0.557 1.022-0.733 1.66s-0.238 1.373-0.185 2.207z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m97.388 46.237c-0.312-0.078-0.518-0.208-0.615-0.39-0.098-0.182-0.127-0.368-0.088-0.557s0.124-0.355 0.254-0.498 0.267-0.221 0.41-0.234h3.652l-0.078-6.094c0.052-0.156 0.163-0.286 0.332-0.391 0.169-0.104 0.352-0.166 0.547-0.185 0.195-0.02 0.391 6e-3 0.586 0.078s0.352 0.205 0.469 0.4l0.176 6.094 3.457-0.078c0.234 0.13 0.393 0.29 0.478 0.478 0.085 0.189 0.121 0.372 0.108 0.547-0.013 0.176-0.062 0.332-0.147 0.469s-0.179 0.218-0.283 0.244l-3.613 0.078c-0.013 0.808-4e-3 1.534 0.029 2.178 0.032 0.645 0.071 1.27 0.117 1.875 0.046 0.606 0.085 1.231 0.117 1.875 0.033 0.645 0.049 1.364 0.049 2.158-0.378 0.261-0.762 0.384-1.152 0.371-0.391-0.013-0.658-0.175-0.801-0.488l-0.215-7.93h-3.789z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m107.5 46.237c-0.312-0.078-0.517-0.208-0.615-0.39s-0.127-0.368-0.088-0.557 0.124-0.355 0.254-0.498 0.267-0.221 0.41-0.234h3.653l-0.079-6.094c0.052-0.156 0.163-0.286 0.332-0.391 0.17-0.104 0.352-0.166 0.547-0.185 0.196-0.02 0.391 6e-3 0.586 0.078 0.196 0.072 0.352 0.205 0.469 0.4l0.176 6.094 3.457-0.078c0.234 0.13 0.394 0.29 0.478 0.478 0.085 0.189 0.121 0.372 0.108 0.547-0.013 0.176-0.062 0.332-0.147 0.469-0.084 0.137-0.179 0.218-0.283 0.244l-3.613 0.078c-0.013 0.808-4e-3 1.534 0.029 2.178 0.033 0.645 0.072 1.27 0.117 1.875 0.046 0.606 0.085 1.231 0.117 1.875 0.033 0.645 0.049 1.364 0.049 2.158-0.377 0.261-0.761 0.384-1.152 0.371s-0.658-0.175-0.801-0.488l-0.215-7.93h-3.789z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m127.5 53.952c0.065-0.195 0.114-0.55 0.147-1.064 0.032-0.514 0.055-1.13 0.068-1.846s0.023-1.507 0.029-2.373c7e-3 -0.866 0.013-1.745 0.02-2.637 6e-3 -0.892 0.019-1.767 0.039-2.627 0.019-0.859 0.052-1.64 0.098-2.343 0.045-0.703 0.11-1.302 0.195-1.797s0.198-0.827 0.342-0.996c0.039-0.157 0.133-0.274 0.283-0.352s0.316-0.133 0.498-0.166c0.182-0.032 0.358-0.049 0.527-0.049h0.352c-0.013 0.339-0.023 0.808-0.029 1.407-7e-3 0.598-0.017 1.223-0.03 1.875-0.013 0.651-0.029 1.285-0.049 1.904-0.019 0.618-0.035 1.116-0.048 1.494 0.703-0.365 1.393-0.778 2.07-1.24 0.677-0.463 1.328-0.938 1.953-1.426s1.221-0.964 1.787-1.426c0.567-0.462 1.1-0.879 1.602-1.25 0.501-0.371 0.963-0.667 1.386-0.888 0.424-0.222 0.798-0.333 1.124-0.333 0.169 0 0.315 0.066 0.439 0.196s0.186 0.28 0.186 0.449c0 0.339-0.261 0.745-0.782 1.221-0.521 0.475-1.172 0.983-1.953 1.523-0.781 0.541-1.627 1.097-2.539 1.67-0.911 0.573-1.758 1.12-2.539 1.641s-1.432 0.999-1.953 1.435-0.781 0.791-0.781 1.065c0.286 0.182 0.768 0.423 1.445 0.722 0.677 0.3 1.439 0.638 2.285 1.016s1.719 0.784 2.617 1.221c0.899 0.436 1.722 0.869 2.471 1.299 0.749 0.429 1.361 0.852 1.836 1.269s0.706 0.801 0.693 1.152c0 0.131-0.032 0.231-0.097 0.303s-0.14 0.127-0.225 0.166-0.173 0.065-0.264 0.078-0.162 0.02-0.214 0.02c-0.456-0.13-1.01-0.394-1.661-0.791s-1.419-0.847-2.304-1.348c-0.886-0.501-1.892-1.012-3.018-1.533s-2.379-0.97-3.76-1.348v4.883c-0.039 0.065-0.188 0.137-0.449 0.215-0.26 0.078-0.537 0.13-0.83 0.156s-0.547 3e-3 -0.762-0.068c-0.215-0.072-0.283-0.231-0.205-0.479z" fill="currentColor" fill-rule="nonzero"/>
                  <path class="sk-primary" d="m144.46 43.054c0.118 1.601 0.222 3.304 0.313 5.107 0.091 1.804 0.169 3.623 0.234 5.459-0.065 0.261-0.198 0.449-0.4 0.567-0.202 0.117-0.42 0.179-0.654 0.185-0.235 7e-3 -0.453-0.029-0.655-0.107s-0.329-0.183-0.381-0.313v-10.898h1.543zm-2.265-3.32c0-0.3 0.084-0.515 0.254-0.645 0.169-0.13 0.371-0.205 0.605-0.225 0.234-0.019 0.469 4e-3 0.703 0.069 0.235 0.065 0.404 0.143 0.508 0.234 0.117 0.43 0.098 0.742-0.059 0.938-0.156 0.195-0.361 0.302-0.615 0.322-0.254 0.019-0.517-0.036-0.791-0.166-0.273-0.13-0.475-0.306-0.605-0.527z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m145.9 38.503c0.091-0.208 0.218-0.368 0.381-0.478 0.162-0.111 0.328-0.183 0.498-0.215 0.169-0.033 0.328-0.02 0.478 0.039 0.15 0.058 0.27 0.159 0.361 0.303l0.45 15.664c0 0.234-0.072 0.403-0.215 0.507-0.143 0.105-0.306 0.16-0.488 0.166-0.183 7e-3 -0.372-0.029-0.567-0.107s-0.345-0.195-0.449-0.352l-0.449-15.527z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m149.15 38.503c0.091-0.208 0.218-0.368 0.381-0.478 0.162-0.111 0.328-0.183 0.498-0.215 0.169-0.033 0.329-0.02 0.478 0.039 0.15 0.058 0.27 0.159 0.362 0.303l0.449 15.664c0 0.234-0.072 0.403-0.215 0.507-0.143 0.105-0.306 0.16-0.488 0.166-0.183 7e-3 -0.371-0.029-0.567-0.107-0.195-0.078-0.345-0.195-0.449-0.352l-0.449-15.527z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m152.41 51.316c-0.118-1.055-0.026-2.107 0.273-3.155s0.765-1.985 1.396-2.812c0.632-0.827 1.397-1.491 2.295-1.992 0.899-0.502 1.888-0.739 2.969-0.713 0.443-0.013 0.951 0.084 1.524 0.293 0.573 0.208 1.1 0.498 1.582 0.869 0.481 0.371 0.869 0.801 1.162 1.289s0.387 1.006 0.283 1.553c0 0.273-0.14 0.498-0.42 0.673-0.28 0.176-0.658 0.316-1.133 0.42-0.475 0.105-1.028 0.179-1.66 0.225-0.631 0.046-1.296 0.081-1.992 0.107-0.697 0.026-1.403 0.049-2.119 0.069-0.716 0.019-1.394 0.055-2.032 0.107-0.364 1.003-0.472 1.826-0.322 2.471 0.15 0.644 0.469 1.136 0.957 1.474 0.489 0.339 1.094 0.538 1.817 0.596 0.722 0.059 1.474 0.01 2.256-0.146 0.781-0.157 1.549-0.407 2.304-0.752s1.406-0.759 1.953-1.24c0.078 0 0.179 0.026 0.303 0.078s0.244 0.12 0.361 0.205c0.118 0.084 0.218 0.175 0.303 0.273s0.127 0.186 0.127 0.264c-0.325 0.56-0.82 1.061-1.484 1.504-0.664 0.442-1.413 0.801-2.246 1.074-0.834 0.273-1.703 0.443-2.608 0.508s-1.754 0-2.549-0.196c-0.794-0.195-1.491-0.54-2.089-1.035-0.599-0.495-1.003-1.165-1.211-2.011zm9.336-5.215c-0.066-0.495-0.261-0.866-0.586-1.114-0.326-0.247-0.71-0.406-1.153-0.478-0.442-0.072-0.911-0.062-1.406 0.029s-0.954 0.228-1.377 0.41c-0.423 0.183-0.775 0.398-1.055 0.645s-0.426 0.495-0.439 0.742l6.016-0.234z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m166.88 54.304c-0.039 0.104-0.13 0.182-0.273 0.234s-0.309 0.078-0.498 0.078-0.375-0.026-0.557-0.078-0.332-0.143-0.449-0.273l-0.039-11.094c0.482-0.286 0.843-0.397 1.084-0.332s0.413 0.231 0.517 0.498c0.105 0.267 0.17 0.592 0.196 0.977 0.026 0.384 0.065 0.752 0.117 1.103 1.341-0.976 2.5-1.676 3.476-2.099 0.977-0.424 1.801-0.635 2.471-0.635 0.671 0 1.211 0.182 1.621 0.547 0.41 0.364 0.733 0.856 0.967 1.474 0.234 0.619 0.397 1.328 0.488 2.129s0.15 1.634 0.176 2.5 0.042 1.735 0.049 2.608c6e-3 0.872 0.042 1.686 0.107 2.441-0.169 0.156-0.384 0.244-0.644 0.264-0.261 0.019-0.501 0.013-0.723-0.02-0.221-0.032-0.39-0.075-0.508-0.127-0.117-0.052-0.117-0.071 0-0.058-0.039-0.339-0.065-0.765-0.078-1.28-0.013-0.514-0.019-1.067-0.019-1.66v-1.836c0-0.631-7e-3 -1.234-0.02-1.806-0.013-0.573-0.042-1.094-0.088-1.563-0.045-0.469-0.114-0.846-0.205-1.133-0.104-0.247-0.296-0.426-0.576-0.537s-0.622-0.156-1.025-0.137c-0.404 0.02-0.843 0.098-1.319 0.235-0.475 0.136-0.957 0.322-1.445 0.556-0.488 0.235-0.964 0.518-1.426 0.85s-0.869 0.7-1.221 1.104l-0.156 7.07z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m12.896 44.912c-0.073-0.207-0.07-0.435 7e-3 -0.684 0.076-0.249 0.179-0.493 0.308-0.731s0.263-0.449 0.402-0.633c0.138-0.184 0.233-0.313 0.283-0.389 0.364 0.761 0.874 1.254 1.532 1.477s1.393 0.256 2.206 0.096c0.814-0.159 1.678-0.477 2.593-0.952 0.916-0.475 1.804-1.027 2.665-1.657s1.668-1.304 2.421-2.022c0.752-0.718 1.372-1.403 1.858-2.056s0.813-1.236 0.981-1.749 0.097-0.879-0.212-1.099l-15.316-0.632c-0.19 9e-3 -0.432-8e-3 -0.727-0.049-0.295-0.042-0.583-0.105-0.863-0.191-0.281-0.085-0.534-0.199-0.758-0.343-0.224-0.143-0.372-0.318-0.445-0.525-0.283-0.808-0.245-1.652 0.113-2.531 0.359-0.879 0.91-1.743 1.656-2.593 0.745-0.851 1.616-1.672 2.613-2.466 0.996-0.793 1.982-1.51 2.955-2.151 0.973-0.64 1.878-1.184 2.716-1.632s1.466-0.765 1.884-0.95c0.245-0.182 0.53-0.321 0.854-0.415s0.631-0.129 0.92-0.105c0.288 0.025 0.532 0.113 0.73 0.266 0.198 0.152 0.294 0.385 0.287 0.696-0.012 0.294-0.215 0.626-0.607 0.995s-0.898 0.759-1.517 1.169c-0.62 0.41-1.318 0.843-2.095 1.299-0.777 0.455-1.561 0.919-2.353 1.389-0.791 0.47-1.543 0.942-2.257 1.414-0.713 0.472-1.322 0.941-1.825 1.407s-0.851 0.921-1.043 1.365-0.17 0.866 0.067 1.266c0.461-7e-3 1.163-0.017 2.105-0.028 0.943-0.012 2.001-0.01 3.174 3e-3 1.174 0.014 2.395 0.04 3.664 0.079 1.269 0.038 2.456 0.105 3.561 0.201 1.106 0.095 2.071 0.216 2.894 0.362 0.824 0.146 1.379 0.324 1.665 0.533 0.612 0.48 0.981 1.022 1.105 1.626 0.125 0.603 0.07 1.245-0.165 1.926s-0.613 1.379-1.136 2.093c-0.522 0.714-1.125 1.418-1.81 2.112-0.684 0.693-1.417 1.356-2.2 1.988-0.784 0.631-1.545 1.202-2.283 1.712-0.739 0.51-1.429 0.94-2.069 1.29-0.641 0.35-1.17 0.589-1.589 0.716-0.229 0.119-0.543 0.229-0.942 0.33s-0.836 0.177-1.311 0.227c-0.475 0.051-0.966 0.068-1.474 0.053-0.507-0.015-0.982-0.076-1.425-0.181-0.443-0.106-0.827-0.266-1.153-0.48s-0.541-0.496-0.644-0.846z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-primary" d="m34.335 39.864c-5e-3 -0.289-0.104-0.78-0.299-1.475-0.196-0.694-0.45-1.518-0.764-2.47-0.315-0.952-0.668-2.002-1.06-3.149s-0.791-2.311-1.195-3.493c-0.404-1.181-0.792-2.344-1.164-3.489-0.372-1.144-0.691-2.192-0.956-3.142s-0.456-1.771-0.574-2.464c-0.117-0.693-0.12-1.185-9e-3 -1.475-0.021-0.224 0.05-0.423 0.211-0.595 0.162-0.173 0.356-0.323 0.582-0.45 0.225-0.127 0.45-0.23 0.674-0.309 0.223-0.078 0.378-0.132 0.464-0.162 0.14 0.453 0.344 1.077 0.612 1.871 0.269 0.795 0.545 1.625 0.83 2.491 0.284 0.866 0.556 1.713 0.817 2.539 0.26 0.826 0.469 1.492 0.627 1.997 0.76-0.808 1.48-1.673 2.161-2.597s1.321-1.854 1.921-2.788c0.599-0.935 1.167-1.838 1.701-2.711s1.047-1.671 1.537-2.393c0.491-0.723 0.965-1.328 1.421-1.816 0.457-0.489 0.9-0.808 1.33-0.959 0.224-0.078 0.448-0.06 0.672 0.055 0.223 0.115 0.374 0.284 0.453 0.508 0.156 0.447 1e-3 1.105-0.468 1.974-0.468 0.869-1.093 1.841-1.875 2.917s-1.643 2.203-2.582 3.382-1.804 2.293-2.595 3.343c-0.791 1.049-1.43 1.983-1.916 2.8-0.487 0.818-0.666 1.407-0.54 1.768 0.463 0.109 1.211 0.204 2.244 0.286 1.033 0.083 2.197 0.177 3.49 0.284 1.293 0.108 2.634 0.241 4.023 0.402 1.389 0.16 2.677 0.351 3.865 0.572 1.188 0.222 2.193 0.497 3.014 0.828s1.304 0.731 1.449 1.202c0.06 0.172 0.064 0.32 0.011 0.445s-0.126 0.232-0.22 0.323c-0.093 0.091-0.197 0.166-0.312 0.225-0.114 0.06-0.206 0.102-0.275 0.126-0.662 0.039-1.515-0.054-2.559-0.277s-2.267-0.461-3.669-0.714c-1.402-0.252-2.968-0.462-4.697-0.629s-3.593-0.18-5.591-0.04l2.26 6.451c-0.022 0.104-0.186 0.268-0.494 0.492s-0.65 0.421-1.025 0.591-0.721 0.257-1.038 0.262-0.481-0.174-0.492-0.537z" fill="currentColor" fill-rule="nonzero"/>
                   <path class="sk-secondary" d="m29.488 5.769c13.269 0 24.189 10.919 24.189 24.189s-10.92 24.189-24.189 24.189c-13.27 0-24.19-10.919-24.19-24.189s10.92-24.189 24.19-24.189zm0 51.834c15.165 0 27.644-12.48 27.644-27.645 0-15.166-12.479-27.645-27.644-27.645-15.166 0-27.645 12.479-27.645 27.645 0 15.165 12.479 27.645 27.645 27.645z" fill="currentColor" fill-rule="nonzero"/>
                 </svg>';

	if (is_front_page() && !is_paged()) {
		$html = sprintf(
			'<span class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">%1$s</span>',
			$svglogo
		);
	} else {
		$html = sprintf(
			'<a href="%1$s" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none" rel="home">%2$s</a>',
			esc_url(home_url('/')),
			$svglogo
		);
	}

	echo $html;
}

function add_additional_class_on_menu_item($atts, $item, $args)
{
	if (isset($args->add_li_class)) {
		$atts[] = $args->add_li_class;
	}
	return $atts;
}
add_filter('nav_menu_css_class', 'add_additional_class_on_menu_item', 1, 3);

function add_additional_class_on_menu_item_link($atts, $item, $args)
{
	if (in_array('class', $atts)) {
		$classes = $atts['class'];
	} else {
		$classes = '';
	}

	if (isset($args->add_link_class)) {
		$classes .= ' ' . $args->add_link_class;
	}

	if (!empty($atts['aria-current'])) {
		$classes .= ' active';
	}

	if (!empty($classes)) {
		$atts['class'] = $classes;
	}

	return $atts;
}
add_filter('nav_menu_link_attributes', 'add_additional_class_on_menu_item_link', 10, 3);
